var R=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var i=(e,t,s)=>(R(e,t,"read from private field"),s?s.call(e):t.get(e)),u=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},l=(e,t,s,r)=>(R(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s);var h=(e,t,s)=>(R(e,t,"access private method"),s);import{i as b}from"./vendor-c2f48a40.js";import{l as V,b as T,g as ie,p as oe,a as ne}from"./mobileModal-9ac9d951.js";const $e="/your-energy-team-project/assets/icons-a183bb62.svg";var w;class ce{constructor(t){u(this,w,void 0);l(this,w,t)}setToStorage(t){localStorage.setItem(i(this,w),JSON.stringify(t))}getFromStorage(){const t=localStorage.getItem(i(this,w));return t?JSON.parse(t):null}}w=new WeakMap;var n,g,m;class de extends ce{constructor(s){super(s);u(this,g);u(this,n,void 0);h(this,g,m).call(this)}addCard(s){this.isCardExisted(s._id)||(i(this,n).push(s),this.setToStorage(i(this,n)))}removeCard(s){h(this,g,m).call(this);const r=i(this,n).filter(({_id:a})=>a.toString()!==s.toString());l(this,n,[...r]),this.setToStorage(i(this,n))}getCards(s,r){if(h(this,g,m).call(this),s*r-r>i(this,n).length)throw new Error("Out of list");return i(this,n).length===0?{data:[],page:s,totalCount:0}:{data:i(this,n).filter((o,d)=>d>=s*r-r&&d<s*r),totalCount:i(this,n).length,page:s}}getAllCards(){return h(this,g,m).call(this),i(this,n).length===0?[]:i(this,n)}isCardExisted(s){return h(this,g,m).call(this),i(this,n).some(({_id:r})=>r===s)}get list(){return h(this,g,m).call(this),i(this,n)}}n=new WeakMap,g=new WeakSet,m=function(){l(this,n,this.getFromStorage()||[])};const le="favorite_sport_cards",Ie=10;var S,y,f,v,x,$,U,I,Y;class Re{constructor(t,s){u(this,$);u(this,I);u(this,S,void 0);u(this,y,void 0);u(this,f,void 0);u(this,v,void 0);u(this,x,void 0);this.refs={container:t},l(this,v,1),l(this,x,(s==null?void 0:s.perPage)||10),l(this,f,1),this.refs.container.addEventListener("click",h(this,I,Y).bind(this)),window.matchMedia("(min-width: 480px)").addEventListener("change",h(this,$,U).bind(this))}reset(){l(this,f,1)}on(t,s){if(t==="beforemove"){l(this,S,s);return}if(t==="aftermove"){l(this,y,s);return}throw new Error('Event type is not correct (must be "beforemove" of "aftermove")')}render(){if(i(this,v)<=i(this,x)){this.refs.container.innerHTML="";return}const t=Number(i(this,f)),s=this.getLastPageNumber();let r="";const a=s,o=window.innerWidth;let d=1;o<480&&(d=1);const C=`<svg class="pag-icon" width="10" height="3" viewBox="0 0 10 3" xmlns="http://www.w3.org/2000/svg">
                    <path style="fill: var(--dots-color, #A8A2A2)" d="M1.61719 0.5C1.88281 0.5 2.08789 0.576172 2.23242 0.728516C2.37695 0.876953 2.44922 1.06445 2.44922 1.29102C2.44922 1.51367 2.37695 1.69922 2.23242 1.84766C2.08789 1.99219 1.88281 2.06445 1.61719 2.06445C1.36328 2.06445 1.16211 1.99219 1.01367 1.84766C0.865234 1.70312 0.791016 1.51758 0.791016 1.29102C0.791016 1.06445 0.863281 0.876953 1.00781 0.728516C1.15234 0.576172 1.35547 0.5 1.61719 0.5ZM4.96875 0.5C5.23438 0.5 5.43945 0.576172 5.58398 0.728516C5.72852 0.876953 5.80078 1.06445 5.80078 1.29102C5.80078 1.51367 5.72852 1.69922 5.58398 1.84766C5.43945 1.99219 5.23438 2.06445 4.96875 2.06445C4.71484 2.06445 4.51367 1.99219 4.36523 1.84766C4.2168 1.70312 4.14258 1.51758 4.14258 1.29102C4.14258 1.06445 4.21484 0.876953 4.35938 0.728516C4.50391 0.576172 4.70703 0.5 4.96875 0.5ZM8.32031 0.5C8.58594 0.5 8.79102 0.576172 8.93555 0.728516C9.08008 0.876953 9.15234 1.06445 9.15234 1.29102C9.15234 1.51367 9.08008 1.69922 8.93555 1.84766C8.79102 1.99219 8.58594 2.06445 8.32031 2.06445C8.06641 2.06445 7.86523 1.99219 7.7168 1.84766C7.56836 1.70312 7.49414 1.51758 7.49414 1.29102C7.49414 1.06445 7.56641 0.876953 7.71094 0.728516C7.85547 0.576172 8.05859 0.5 8.32031 0.5Z" />
                </svg>`;t>4&&(r+=`<a class="pag__page pag__btn pag__btn--prev" href="#" data-value="${t-1}"></a>`);for(let c=1;c<=a;c++){if(c===t){r+=`<a class="pag__page pag__page--current-number" href="#" data-value="${t}">${t}</a>`;continue}if(c>1&&c<t-d-1){r+=`<a class="pag__page pag__page--dots pag__btn--dots-prev hovered" href="#" data-value="${t-4}">
            ${C}
          </a>`,c=t-d-1;continue}if(c>t+d&&c<a-1){r+=`<a class="pag__page pag__page--dots pag__btn--dots-next hovered" href="#" data-value="${t+4}">
          ${C}
          </a>`,c=a-1;continue}if(c===a&&a>9999){r+=`<a class="pag__page hovered" href="#" data-value="${c}">Last page</a>`;continue}r+=`<a class="pag__page hovered" href="#" data-value="${c}">${c}</a>`}t<=a-4&&(r+=`<a class="pag__page pag__btn pag__btn--next" href="#" data-value="${t+1}"></a>`),this.refs.container.innerHTML=r}goToPage(t){if(!Number.isInteger(Number(t)))throw console.log(t),new Error("Page must be integer!");t<1||t>this.getLastPageNumber()||l(this,f,t)}getCurrentPage(){return i(this,f)}updateTotalItems(t){l(this,v,t)}getLastPageNumber(){return Math.ceil(Number(i(this,v))/Number(i(this,x)))}}S=new WeakMap,y=new WeakMap,f=new WeakMap,v=new WeakMap,x=new WeakMap,$=new WeakSet,U=function(){this.render()},I=new WeakSet,Y=function(t){if(t.preventDefault(),!t.target.classList.contains("pag__page"))return;const s=t.target.dataset.value;i(this,f)!=s&&(i(this,S)&&i(this,S).call(this,{page:i(this,f)}),this.goToPage(s),this.render(),i(this,y)&&i(this,y).call(this,{page:i(this,f)}))};const K=document.querySelector(".js-common-card-list"),W=document.querySelector(".js-faovorites-wrapper"),ue=document.querySelector(".excercise_units"),q=document.querySelector(".modal_window_container"),fe=document.querySelector(".close_modal_button"),j=document.querySelector(".rate_button"),P=document.body,A=document.querySelector(".js-add-favorite-btn"),he=document.querySelector(".modal_title"),ge=document.querySelector(".excercise_rating"),Z=document.querySelector(".modal_image"),L=document.querySelector(".first_star"),E=document.querySelector(".second_star"),N=document.querySelector(".third_star"),B=document.querySelector(".fourth_star"),X=document.querySelector(".fifth_star");let _=null;const k=new de(le);function me(e){window.postMessage(e,"*")}K&&K.addEventListener("click",ee);W&&W.addEventListener("click",ee);fe.addEventListener("click",xe);j.addEventListener("click",ye);A.addEventListener("click",_e);function F(e){k.isCardExisted(e)?A.classList.add("is-card-existed"):A.classList.remove("is-card-existed")}function _e(){_&&(k.isCardExisted(_._id)?(k.removeCard(_._id),F(_._id)):(k.addCard(_),F(_._id)),me("update-favorites"))}function ve(e){if(e)he.textContent=e;else return}function pe(e){if(e){let t=e.toFixed(1);ge.textContent=t}else return}function O(){L.classList.remove("rating_star_filled"),E.classList.remove("rating_star_filled"),N.classList.remove("rating_star_filled"),B.classList.remove("rating_star_filled"),X.classList.remove("rating_star_filled")}function Le(e){if(e===5)L.classList.add("rating_star_filled"),E.classList.add("rating_star_filled"),N.classList.add("rating_star_filled"),B.classList.add("rating_star_filled"),X.classList.add("rating_star_filled");else if(e>=4)L.classList.add("rating_star_filled"),E.classList.add("rating_star_filled"),N.classList.add("rating_star_filled"),B.classList.add("rating_star_filled");else if(e>=3)L.classList.add("rating_star_filled"),E.classList.add("rating_star_filled"),N.classList.add("rating_star_filled");else if(e>=2)L.classList.add("rating_star_filled"),E.classList.add("rating_star_filled");else if(e>=1)L.classList.add("rating_star_filled");else return}function we(e,t){if(e)Z.src=e,Z.alt=t;else return}function Se({time:e,bodyPart:t,equipment:s,target:r,description:a,burnedCalories:o,popularity:d}){return r||(r="Not Defined"),s||(s="Not Defined"),d||(d="Not defined"),(!o||!e)&&(o="N",e="A"),a||(a="No description yet."),`<li class="excercise_item"><h4 class="excercise_title">Taget</h4><p class="excercise_text">${r}</p></li>
<li class="excercise_item"><h4 class="excercise_title">Body Part</h4>
        <p class="excercise_text">${t}</p></li>
 <li class="excercise_item"><h4 class="excercise_title">Equipment</h4>
        <p class="excercise_text">${s}</p></li>
        <li class="excercise_item"><h4 class="excercise_title">Popular</h4>
        <p class="excercise_text">${d}</p></li>
        <li class="excercise_item"><h4 class="excercise_title">Burned calories</h4>
        <p class="excercise_text">${o}/${e} min</p></li>
        <li><p class="modal_text">${a}</p></li>
`}function ye(){j.classList.remove("is-hidden"),q.classList.add("is-hidden"),window.removeEventListener("keydown",D),window.removeEventListener("click",D)}function ee(e){const t=e.target.closest(".js-excercise-button");if(!t)return;const r=t.closest(".js-common-card-item").dataset.exerciseId;V.create(),T.hide(),ie(r).then(a=>{const o=Se(a);ue.innerHTML=o,ve(a.name),pe(a.rating),Le(a.rating),we(a.gifUrl,a.name),_=a,F(a._id)}).catch(a=>{console.error(a),b.show({position:"center",color:"red",message:"An error has ocurred. Please try again later"})}).finally(()=>{V.destroy()}),j.setAttribute("data-Id",r),q.classList.remove("is-hidden"),P.style.overflow="hidden",window.addEventListener("keydown",D),window.addEventListener("click",D)}function D(e){e.key==="Escape"?(q.classList.add("is-hidden"),P.style.overflow="visible",O(),T.show()):e.target.closest(".modal_window_default_content,.js-excercise-button")||(q.classList.add("is-hidden"),P.style.overflow="visible",O(),T.show())}function xe(){q.classList.add("is-hidden"),P.style.overflow="visible",O(),T.show()}const Q=document.querySelector("[data-modal]"),H=document.querySelector("p[data-raiting]"),te=document.querySelector(".rating_form"),J=[...document.getElementsByClassName("btn_star")],se=document.querySelector(".modal_window_container");let M=0,p={};const Ce=()=>{te.reset(),M=0,H.textContent="0.0",J.forEach(e=>{e.classList.remove("btn_star-active"),e.classList.add("btn_star")}),Q.classList.add("is-hidden"),se.classList.remove("is-hidden")};te.addEventListener("submit",async e=>{e.preventDefault();const s=document.querySelector("[data-id]").dataset.id;if(new FormData(e.currentTarget).forEach((a,o)=>{p[o]=a.trim()}),p.rate=M,p.rate<1){b.show({title:"The rate must be selected",color:"red",position:"topCenter",message:""});return}if(!p.email||!p.review){b.show({title:"The email and comment must be selected",color:"red",position:"topCenter",message:""});return}try{await oe(s,p)&&(b.show({title:"The rating has been successfully added",color:"green",position:"topCenter",message:""}),Ce())}catch(a){b.show({title:`${a.message}`,color:"red",position:"topCenter",message:""})}});function be(e){const t="btn_star-active",s="btn_star",r=e.length;let a;e.map(o=>{o.onclick=()=>{if(a=e.indexOf(o),o.className===s)for(a;a>=0;--a)e[a].className=t;else for(a;a<r;++a)e[a].className=s;M=e.filter(C=>{if(C.className===t)return C}).length,H.textContent=`${M}.0`}})}be(J);(()=>{const e={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};e.openModalBtn.addEventListener("click",t),e.closeModalBtn.addEventListener("click",s),e.modal.addEventListener("click",r);function t(){Q.classList.remove("is-hidden"),document.addEventListener("keydown",a)}function s(){M=0,J.forEach(o=>{o.classList.remove("btn_star-active"),o.classList.add("btn_star")}),H.textContent="0.0",Q.classList.add("is-hidden"),se.classList.remove("is-hidden"),document.removeEventListener("keydown",a)}function r(o){o.target===o.currentTarget&&s()}function a(o){o.code==="Escape"&&s()}})();const ae="quote",Ee=document.querySelector(".quote-text"),z=document.querySelector(".quote-author"),qe=document.querySelector(".favorites-quote-text"),Me=document.querySelector(".favorites-quote-author");async function Ne(){try{const{author:e,quote:t}=await ne(),s=new Date().toLocaleDateString();localStorage.setItem(ae,JSON.stringify({author:e,quote:t,date:s}))}catch(e){console.error("Failed to fetch the quote:",e)}}function re(){const e=localStorage.getItem(ae);return JSON.parse(e)}function G(){const e=re();z?(Ee.textContent=e.quote,z.textContent=e.author):(qe.textContent=e.quote,Me.textContent=e.author)}async function ke(){const e=new Date().toLocaleDateString(),t=re();if(t&&t.date===e){G();return}await Ne(),G()}document.addEventListener("DOMContentLoaded",ke);export{de as F,Re as P,ce as S,le as a,Ie as b,$e as i};
//# sourceMappingURL=quote-880a43ed.js.map
