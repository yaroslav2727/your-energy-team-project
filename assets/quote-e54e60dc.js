var N=(t,e,s)=>{if(!e.has(t))throw TypeError("Cannot "+s)};var o=(t,e,s)=>(N(t,e,"read from private field"),s?s.call(t):e.get(t)),f=(t,e,s)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,s)},d=(t,e,s,r)=>(N(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s);var $=(t,e,s)=>(N(t,e,"access private method"),s);import{i as y}from"./vendor-c2f48a40.js";import{l as j,g as se,p as ae,a as re}from"./mobileModal-844a269d.js";const Te="/your-energy-team-project/assets/icons-59c73723.svg";var v;class oe{constructor(e){f(this,v,void 0);d(this,v,e)}setToStorage(e){localStorage.setItem(o(this,v),JSON.stringify(e))}getFromStorage(){const e=localStorage.getItem(o(this,v));return e?JSON.parse(e):null}}v=new WeakMap;var n;class ie extends oe{constructor(s){super(s);f(this,n,void 0);d(this,n,this.getFromStorage()||[])}addCard(s){this.isCardExisted(s._id)||(o(this,n).push(s),this.setToStorage(o(this,n)))}removeCard(s){const r=o(this,n).filter(({_id:a})=>a.toString()!==s.toString());d(this,n,[...r]),this.setToStorage(o(this,n))}getCards(s,r){if(s*r-r>o(this,n).length)throw console.log(s),new Error("Out of list");return o(this,n).length===0?{data:[],page:s,totalCount:0}:{data:o(this,n).filter((i,u)=>u>=s*r-r&&u<s*r),totalCount:o(this,n).length,page:s}}getAllCards(){return o(this,n).length===0?[]:o(this,n)}isCardExisted(s){return o(this,n).some(({_id:r})=>r===s)}get list(){return o(this,n)}}n=new WeakMap;const ne="favorite_sport_cards",Pe=10;var p,L,l,h,S,T,Z,P,z;class Ne{constructor(e,s){f(this,T);f(this,P);f(this,p,void 0);f(this,L,void 0);f(this,l,void 0);f(this,h,void 0);f(this,S,void 0);this.refs={container:e},d(this,h,1),d(this,S,(s==null?void 0:s.perPage)||10),d(this,l,1),this.refs.container.addEventListener("click",$(this,P,z).bind(this)),window.matchMedia("(min-width: 480px)").addEventListener("change",$(this,T,Z).bind(this))}reset(){d(this,l,1)}on(e,s){if(e==="beforemove"){d(this,p,s);return}if(e==="aftermove"){d(this,L,s);return}throw new Error('Event type is not correct (must be "beforemove" of "aftermove")')}render(){if(o(this,h)<=o(this,S)){this.refs.container.innerHTML="";return}const e=Number(o(this,l)),s=this.getLastPageNumber();let r="";const a=s,i=window.innerWidth;let u=1;i<480&&(u=1);const w=`<svg class="pag-icon" width="10" height="3" viewBox="0 0 10 3" xmlns="http://www.w3.org/2000/svg">
                    <path style="fill: var(--dots-color, #A8A2A2)" d="M1.61719 0.5C1.88281 0.5 2.08789 0.576172 2.23242 0.728516C2.37695 0.876953 2.44922 1.06445 2.44922 1.29102C2.44922 1.51367 2.37695 1.69922 2.23242 1.84766C2.08789 1.99219 1.88281 2.06445 1.61719 2.06445C1.36328 2.06445 1.16211 1.99219 1.01367 1.84766C0.865234 1.70312 0.791016 1.51758 0.791016 1.29102C0.791016 1.06445 0.863281 0.876953 1.00781 0.728516C1.15234 0.576172 1.35547 0.5 1.61719 0.5ZM4.96875 0.5C5.23438 0.5 5.43945 0.576172 5.58398 0.728516C5.72852 0.876953 5.80078 1.06445 5.80078 1.29102C5.80078 1.51367 5.72852 1.69922 5.58398 1.84766C5.43945 1.99219 5.23438 2.06445 4.96875 2.06445C4.71484 2.06445 4.51367 1.99219 4.36523 1.84766C4.2168 1.70312 4.14258 1.51758 4.14258 1.29102C4.14258 1.06445 4.21484 0.876953 4.35938 0.728516C4.50391 0.576172 4.70703 0.5 4.96875 0.5ZM8.32031 0.5C8.58594 0.5 8.79102 0.576172 8.93555 0.728516C9.08008 0.876953 9.15234 1.06445 9.15234 1.29102C9.15234 1.51367 9.08008 1.69922 8.93555 1.84766C8.79102 1.99219 8.58594 2.06445 8.32031 2.06445C8.06641 2.06445 7.86523 1.99219 7.7168 1.84766C7.56836 1.70312 7.49414 1.51758 7.49414 1.29102C7.49414 1.06445 7.56641 0.876953 7.71094 0.728516C7.85547 0.576172 8.05859 0.5 8.32031 0.5Z" />
                </svg>`;e>4&&(r+=`<a class="pag__page pag__btn pag__btn--prev" href="#" data-value="${e-1}"></a>`);for(let c=1;c<=a;c++){if(c===e){r+=`<a class="pag__page pag__page--current-number" href="#" data-value="${e}">${e}</a>`;continue}if(c>1&&c<e-u-1){r+=`<a class="pag__page pag__page--dots pag__btn--dots-prev hovered" href="#" data-value="${e-4}">
            ${w}
          </a>`,c=e-u-1;continue}if(c>e+u&&c<a-1){r+=`<a class="pag__page pag__page--dots pag__btn--dots-next hovered" href="#" data-value="${e+4}">
          ${w}
          </a>`,c=a-1;continue}if(c===a&&a>9999){r+=`<a class="pag__page hovered" href="#" data-value="${c}">Last page</a>`;continue}r+=`<a class="pag__page hovered" href="#" data-value="${c}">${c}</a>`}e<=a-4&&(r+=`<a class="pag__page pag__btn pag__btn--next" href="#" data-value="${e+1}"></a>`),this.refs.container.innerHTML=r}goToPage(e){if(!Number.isInteger(Number(e)))throw console.log(e),new Error("Page must be integer!");e<1||e>this.getLastPageNumber()||d(this,l,e)}getCurrentPage(){return o(this,l)}updateTotalItems(e){d(this,h,e)}getLastPageNumber(){return Math.ceil(Number(o(this,h))/Number(o(this,S)))}}p=new WeakMap,L=new WeakMap,l=new WeakMap,h=new WeakMap,S=new WeakMap,T=new WeakSet,Z=function(){this.render()},P=new WeakSet,z=function(e){if(e.preventDefault(),!e.target.classList.contains("pag__page"))return;const s=e.target.dataset.value;o(this,l)!=s&&(o(this,p)&&o(this,p).call(this,{page:o(this,l)}),this.goToPage(s),this.render(),o(this,L)&&o(this,L).call(this,{page:o(this,l)}))};const H=document.querySelector(".js-common-card-list"),J=document.querySelector(".js-faovorites-wrapper"),ce=document.querySelector(".excercise_units"),x=document.querySelector(".modal_window_container"),de=document.querySelector(".close_modal_button"),F=document.querySelector(".rate_button"),k=document.body,I=document.querySelector(".js-add-favorite-btn"),le=document.querySelector(".modal_title"),ue=document.querySelector(".excercise_rating"),V=document.querySelector(".modal_image"),_=document.querySelector(".first_star"),C=document.querySelector(".second_star"),E=document.querySelector(".third_star"),D=document.querySelector(".fourth_star"),G=document.querySelector(".fifth_star");let g=null;const q=new ie(ne);H&&H.addEventListener("click",U);J&&J.addEventListener("click",U);de.addEventListener("click",Le);F.addEventListener("click",pe);I.addEventListener("click",fe);function R(t){q.isCardExisted(t)?I.classList.add("is-card-existed"):I.classList.remove("is-card-existed")}function fe(){g&&(q.isCardExisted(g._id)?(q.removeCard(g._id),R(g._id)):(q.addCard(g),R(g._id)))}function ge(t){t!==null&&(le.textContent=t)}function he(t){if(t!==null){let e=t.toFixed(1);ue.textContent=e}}function A(){_.classList.remove("rating_star_filled"),C.classList.remove("rating_star_filled"),E.classList.remove("rating_star_filled"),D.classList.remove("rating_star_filled"),G.classList.remove("rating_star_filled")}function me(t){if(t===5)_.classList.add("rating_star_filled"),C.classList.add("rating_star_filled"),E.classList.add("rating_star_filled"),D.classList.add("rating_star_filled"),G.classList.add("rating_star_filled");else if(t>=4)_.classList.add("rating_star_filled"),C.classList.add("rating_star_filled"),E.classList.add("rating_star_filled"),D.classList.add("rating_star_filled");else if(t>=3)_.classList.add("rating_star_filled"),C.classList.add("rating_star_filled"),E.classList.add("rating_star_filled");else if(t>=2)_.classList.add("rating_star_filled"),C.classList.add("rating_star_filled");else if(t>=1)_.classList.add("rating_star_filled");else return}function _e(t,e){t!==null&&(V.src=t,V.alt=e)}function ve({time:t,bodyPart:e,equipment:s,target:r,description:a,burnedCalories:i,popularity:u}){return`<li class="excercise_item"><h4 class="excercise_title">Taget</h4><p class="excercise_text">${r}</p></li>
<li class="excercise_item"><h4 class="excercise_title">Body Part</h4>
        <p class="excercise_text">${e}</p></li>
 <li class="excercise_item"><h4 class="excercise_title">Equipment</h4>
        <p class="excercise_text">${s}</p></li>
        <li class="excercise_item"><h4 class="excercise_title">Popular</h4>
        <p class="excercise_text">${u}</p></li>
        <li class="excercise_item"><h4 class="excercise_title">Burned calories</h4>
        <p class="excercise_text">${i}/${t} min</p></li>
        <p class="modal_text">${a}</p>
`}function pe(){F.classList.remove("is-hidden"),x.classList.add("is-hidden"),window.removeEventListener("keydown",M),window.removeEventListener("click",M)}function U(t){const e=t.target.closest(".js-excercise-button");if(!e)return;const r=e.closest(".js-common-card-item").dataset.exerciseId;j.create(),se(r).then(a=>{const i=ve(a);ce.innerHTML=i,ge(a.name),he(a.rating),me(a.rating),_e(a.gifUrl,a.name),g=a,console.log(a),R(a._id)}).catch(a=>{console.error(a),y.show({position:"center",color:"red",message:"An error has ocurred. Please try again later"})}).finally(()=>{j.destroy()}),F.setAttribute("data-Id",r),x.classList.remove("is-hidden"),k.style.overflow="hidden",window.addEventListener("keydown",M),window.addEventListener("click",M)}function M(t){t.key==="Escape"?(x.classList.add("is-hidden"),k.style.overflow="visible",A()):t.target.closest(".modal_window_default_content,.js-excercise-button")||(x.classList.add("is-hidden"),k.style.overflow="visible",A())}function Le(){x.classList.add("is-hidden"),k.style.overflow="visible",A()}const B=document.querySelector("[data-modal]"),O=document.querySelector("p[data-raiting]"),Y=document.querySelector(".rating_form"),Q=[...document.getElementsByClassName("btn_star")],X=document.querySelector(".modal_window_container");let b=0,m={};const Se=()=>{Y.reset(),b=0,O.textContent="0.0",Q.forEach(t=>{t.classList.remove("btn_star-active"),t.classList.add("btn_star")}),B.classList.add("is-hidden"),X.classList.remove("is-hidden")};Y.addEventListener("submit",async t=>{t.preventDefault();const s=document.querySelector("[data-id]").dataset.id;if(new FormData(t.currentTarget).forEach((a,i)=>{m[i]=a.trim()}),m.rate=b,m.rate<1){y.show({title:"The rate must be selected",color:"red",position:"topCenter",message:""});return}if(!m.email||!m.review){y.show({title:"The email and comment must be selected",color:"red",position:"topCenter",message:""});return}try{await ae(s,m)&&(y.show({title:"The rating has been successfully added",color:"green",position:"topCenter",message:""}),Se())}catch(a){y.show({title:`${a.message}`,color:"red",position:"topCenter",message:""})}});function we(t){const e="btn_star-active",s="btn_star",r=t.length;let a;t.map(i=>{i.onclick=()=>{if(a=t.indexOf(i),i.className===s)for(a;a>=0;--a)t[a].className=e;else for(a;a<r;++a)t[a].className=s;b=t.filter(w=>{if(w.className===e)return w}).length,O.textContent=`${b}.0`}})}we(Q);(()=>{const t={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};t.openModalBtn.addEventListener("click",e),t.closeModalBtn.addEventListener("click",s),t.modal.addEventListener("click",r);function e(){B.classList.remove("is-hidden"),document.addEventListener("keydown",a)}function s(){b=0,Q.forEach(i=>{i.classList.remove("btn_star-active"),i.classList.add("btn_star")}),O.textContent="0.0",B.classList.add("is-hidden"),X.classList.remove("is-hidden"),document.removeEventListener("keydown",a)}function r(i){i.target===i.currentTarget&&s()}function a(i){i.code==="Escape"&&s()}})();const ee="quote",ye=document.querySelector(".quote-text"),K=document.querySelector(".quote-author"),Ce=document.querySelector(".favorites-quote-text"),xe=document.querySelector(".favorites-quote-author");async function be(){try{const{author:t,quote:e}=await re(),s=new Date().toLocaleDateString();localStorage.setItem(ee,JSON.stringify({author:t,quote:e,date:s}))}catch(t){console.error("Failed to fetch the quote:",t)}}function te(){const t=localStorage.getItem(ee);return JSON.parse(t)}function W(){const t=te();K?(ye.textContent=t.quote,K.textContent=t.author):(Ce.textContent=t.quote,xe.textContent=t.author)}async function Ee(){const t=new Date().toLocaleDateString(),e=te();if(e&&e.date===t){W();return}await be(),W()}document.addEventListener("DOMContentLoaded",Ee);export{ie as F,Ne as P,oe as S,ne as a,Pe as b,Te as i};
//# sourceMappingURL=quote-e54e60dc.js.map
