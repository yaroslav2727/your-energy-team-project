var B=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var r=(e,t,s)=>(B(e,t,"read from private field"),s?s.call(e):t.get(e)),m=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},d=(e,t,s,a)=>(B(e,t,"write to private field"),a?a.call(e,s):t.set(e,s),s);var O=(e,t,s)=>(B(e,t,"access private method"),s);import{a as de,i as w}from"./vendor-c2f48a40.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();var L;class ue{constructor(t){m(this,L,void 0);d(this,L,t)}setToStorage(t){localStorage.setItem(r(this,L),JSON.stringify(t))}getFromStorage(){const t=localStorage.getItem(r(this,L));return t?JSON.parse(t):null}}L=new WeakMap;var l;class me extends ue{constructor(s){super(s);m(this,l,void 0);d(this,l,this.getFromStorage()||[])}addCard(s){this.isCardExisted(s._id)||(r(this,l).push(s),this.setToStorage(r(this,l)))}removeCard(s){const a=r(this,l).filter(({_id:o})=>o.toString()!==s.toString());d(this,l,[...a]),this.setToStorage(r(this,l))}getCards(s,a){if(s*a-a>r(this,l).length)throw console.log(s),new Error("Out of list");return r(this,l).length===0?{data:[],page:s,totalCount:0}:{data:r(this,l).filter((n,c)=>c>=s*a-a&&c<s*a),totalCount:r(this,l).length,page:s}}getAllCards(){return r(this,l).length===0?[]:r(this,l)}isCardExisted(s){return r(this,l).some(({_id:a})=>a===s)}get list(){return r(this,l)}}l=new WeakMap;const fe="favorite_sport_cards",Ue=10;var v,S,u,h,b,$,ee,D,te;class Ke{constructor(t,s){m(this,$);m(this,D);m(this,v,void 0);m(this,S,void 0);m(this,u,void 0);m(this,h,void 0);m(this,b,void 0);this.refs={container:t},d(this,h,1),d(this,b,(s==null?void 0:s.perPage)||10),d(this,u,1),this.refs.container.addEventListener("click",O(this,D,te).bind(this)),window.matchMedia("(min-width: 480px)").addEventListener("change",O(this,$,ee).bind(this))}reset(){d(this,u,1)}on(t,s){if(t==="beforemove"){d(this,v,s);return}if(t==="aftermove"){d(this,S,s);return}throw new Error('Event type is not correct (must be "beforemove" of "aftermove")')}render(){if(r(this,h)<=r(this,b)){this.refs.container.innerHTML="";return}const t=Number(r(this,u)),s=this.getLastPageNumber();let a="";const o=s,n=window.innerWidth;let c=1;n<480&&(c=1);const f=`<svg class="pag-icon" width="10" height="3" viewBox="0 0 10 3" xmlns="http://www.w3.org/2000/svg">
                    <path style="fill: var(--dots-color, #A8A2A2)" d="M1.61719 0.5C1.88281 0.5 2.08789 0.576172 2.23242 0.728516C2.37695 0.876953 2.44922 1.06445 2.44922 1.29102C2.44922 1.51367 2.37695 1.69922 2.23242 1.84766C2.08789 1.99219 1.88281 2.06445 1.61719 2.06445C1.36328 2.06445 1.16211 1.99219 1.01367 1.84766C0.865234 1.70312 0.791016 1.51758 0.791016 1.29102C0.791016 1.06445 0.863281 0.876953 1.00781 0.728516C1.15234 0.576172 1.35547 0.5 1.61719 0.5ZM4.96875 0.5C5.23438 0.5 5.43945 0.576172 5.58398 0.728516C5.72852 0.876953 5.80078 1.06445 5.80078 1.29102C5.80078 1.51367 5.72852 1.69922 5.58398 1.84766C5.43945 1.99219 5.23438 2.06445 4.96875 2.06445C4.71484 2.06445 4.51367 1.99219 4.36523 1.84766C4.2168 1.70312 4.14258 1.51758 4.14258 1.29102C4.14258 1.06445 4.21484 0.876953 4.35938 0.728516C4.50391 0.576172 4.70703 0.5 4.96875 0.5ZM8.32031 0.5C8.58594 0.5 8.79102 0.576172 8.93555 0.728516C9.08008 0.876953 9.15234 1.06445 9.15234 1.29102C9.15234 1.51367 9.08008 1.69922 8.93555 1.84766C8.79102 1.99219 8.58594 2.06445 8.32031 2.06445C8.06641 2.06445 7.86523 1.99219 7.7168 1.84766C7.56836 1.70312 7.49414 1.51758 7.49414 1.29102C7.49414 1.06445 7.56641 0.876953 7.71094 0.728516C7.85547 0.576172 8.05859 0.5 8.32031 0.5Z" />
                </svg>`;t>4&&(a+=`<a class="pag__page pag__btn pag__btn--prev" href="#" data-value="${t-1}"></a>`);for(let i=1;i<=o;i++){if(i===t){a+=`<a class="pag__page pag__page--current-number" href="#" data-value="${t}">${t}</a>`;continue}if(i>1&&i<t-c-1){a+=`<a class="pag__page pag__page--dots pag__btn--dots-prev hovered" href="#" data-value="${t-4}">
            ${f}
          </a>`,i=t-c-1;continue}if(i>t+c&&i<o-1){a+=`<a class="pag__page pag__page--dots pag__btn--dots-next hovered" href="#" data-value="${t+4}">
          ${f}
          </a>`,i=o-1;continue}if(i===o&&o>9999){a+=`<a class="pag__page hovered" href="#" data-value="${i}">Last page</a>`;continue}a+=`<a class="pag__page hovered" href="#" data-value="${i}">${i}</a>`}t<=o-4&&(a+=`<a class="pag__page pag__btn pag__btn--next" href="#" data-value="${t+1}"></a>`),this.refs.container.innerHTML=a}goToPage(t){if(!Number.isInteger(Number(t)))throw console.log(t),new Error("Page must be integer!");t<1||t>this.getLastPageNumber()||d(this,u,t)}getCurrentPage(){return r(this,u)}updateTotalItems(t){d(this,h,t)}getLastPageNumber(){return Math.ceil(Number(r(this,h))/Number(r(this,b)))}}v=new WeakMap,S=new WeakMap,u=new WeakMap,h=new WeakMap,b=new WeakMap,$=new WeakSet,ee=function(){this.render()},D=new WeakSet,te=function(t){if(t.preventDefault(),!t.target.classList.contains("pag__page"))return;const s=t.target.dataset.value;r(this,u)!=s&&(r(this,v)&&r(this,v).call(this,{page:r(this,u)}),this.goToPage(s),this.render(),r(this,S)&&r(this,S).call(this,{page:r(this,u)}))};const ge="https://your-energy.b.goit.study/api",se=12,he=10,_=de.create({baseURL:ge,params:{}}),He=async(e,t=1)=>(await _.get("/filters",{params:{filter:e,page:t,limit:se}})).data,Je=async(e=1)=>(await _.get("/filters",{params:{filter:"Muscles",page:e,limit:se}})).data,_e=async()=>(await _.get("/quote")).data,Ve=async({bodypart:e,muscles:t,equipment:s,search:a},o=1)=>{const n=a&&!e&&!t&&!s?"":a;return(await _.get("/exercises",{params:{bodypart:e||"",muscles:t||"",equipment:s||"",keyword:n||"",page:o,limit:he}})).data},pe=async e=>(await _.get(`/exercises/${e}`)).data,ye=async(e,t)=>{try{const s=await _.patch(`/exercises/${e}/rating`,t);if(s.statusText==="OK")return s.data}catch(s){throw new Error(s.message)}},We=async e=>(await _.post("/subscription",e)).data,W={element:document.querySelector(".loader"),create(){this.element.classList.add("loader-active")},destroy(){this.element.classList.remove("loader-active")}},Z=document.querySelector(".js-common-card-list"),z=document.querySelector(".js-faovorites-wrapper"),Le=document.querySelector(".excercise_units"),E=document.querySelector(".modal_window_container"),ve=document.querySelector(".close_modal_button"),H=document.querySelector(".rate_button"),M=document.body,F=document.querySelector(".js-add-favorite-btn"),Se=document.querySelector(".modal_title"),be=document.querySelector(".excercise_rating"),G=document.querySelector(".modal_image"),y=document.querySelector(".first_star"),x=document.querySelector(".second_star"),q=document.querySelector(".third_star"),j=document.querySelector(".fourth_star"),oe=document.querySelector(".fifth_star");let g=null;const k=new me(fe);Z&&Z.addEventListener("click",ae);z&&z.addEventListener("click",ae);ve.addEventListener("click",Ie);H.addEventListener("click",Me);F.addEventListener("click",we);function Q(e){k.isCardExisted(e)?F.classList.add("is-card-existed"):F.classList.remove("is-card-existed")}function we(){g&&(k.isCardExisted(g._id)?(k.removeCard(g._id),Q(g._id)):(k.addCard(g),Q(g._id)))}function xe(e){e!==null&&(Se.textContent=e)}function Ee(e){if(e!==null){let t=e.toFixed(1);be.textContent=t}}function U(){y.classList.remove("rating_star_filled"),x.classList.remove("rating_star_filled"),q.classList.remove("rating_star_filled"),j.classList.remove("rating_star_filled"),oe.classList.remove("rating_star_filled")}function Ce(e){if(e===5)y.classList.add("rating_star_filled"),x.classList.add("rating_star_filled"),q.classList.add("rating_star_filled"),j.classList.add("rating_star_filled"),oe.classList.add("rating_star_filled");else if(e>=4)y.classList.add("rating_star_filled"),x.classList.add("rating_star_filled"),q.classList.add("rating_star_filled"),j.classList.add("rating_star_filled");else if(e>=3)y.classList.add("rating_star_filled"),x.classList.add("rating_star_filled"),q.classList.add("rating_star_filled");else if(e>=2)y.classList.add("rating_star_filled"),x.classList.add("rating_star_filled");else if(e>=1)y.classList.add("rating_star_filled");else return}function qe(e,t){e!==null&&(G.src=e,G.alt=t)}function ke({time:e,bodyPart:t,equipment:s,target:a,description:o,burnedCalories:n,popularity:c}){return`<li class="excercise_item"><h4 class="excercise_title">Taget</h4><p class="excercise_text">${a}</p></li>
<li class="excercise_item"><h4 class="excercise_title">Body Part</h4>
        <p class="excercise_text">${t}</p></li>
 <li class="excercise_item"><h4 class="excercise_title">Equipment</h4>
        <p class="excercise_text">${s}</p></li>
        <li class="excercise_item"><h4 class="excercise_title">Popular</h4>
        <p class="excercise_text">${c}</p></li>
        <li class="excercise_item"><h4 class="excercise_title">Burned calories</h4>
        <p class="excercise_text">${n}/${e} min</p></li>
        <p class="modal_text">${o}</p>
`}function Me(){H.classList.remove("is-hidden"),E.classList.add("is-hidden"),window.removeEventListener("keydown",I),window.removeEventListener("click",I)}function ae(e){const t=e.target.closest(".js-excercise-button");if(!t)return;const a=t.closest(".js-common-card-item").dataset.exerciseId;W.create(),pe(a).then(o=>{const n=ke(o);Le.innerHTML=n,xe(o.name),Ee(o.rating),Ce(o.rating),qe(o.gifUrl,o.name),g=o,console.log(o),Q(o._id)}).catch(o=>{console.error(o),w.show({position:"center",color:"red",message:"An error has ocurred. Please try again later"})}).finally(()=>{W.destroy()}),H.setAttribute("data-Id",a),E.classList.remove("is-hidden"),M.style.overflow="hidden",window.addEventListener("keydown",I),window.addEventListener("click",I)}function I(e){e.key==="Escape"?(E.classList.add("is-hidden"),M.style.overflow="visible",U()):e.target.closest(".modal_window_default_content,.js-excercise-button")||(E.classList.add("is-hidden"),M.style.overflow="visible",U())}function Ie(){E.classList.add("is-hidden"),M.style.overflow="visible",U()}const K=document.querySelector("[data-modal]"),J=document.querySelector("p[data-raiting]"),ne=document.querySelector(".rating_form"),V=[...document.getElementsByClassName("btn_star")],re=document.querySelector(".modal_window_container");let C=0,p={};const Te=()=>{ne.reset(),C=0,J.textContent="0.0",V.forEach(e=>{e.classList.remove("btn_star-active")}),K.classList.add("is-hidden"),re.classList.remove("is-hidden")};ne.addEventListener("submit",async e=>{e.preventDefault();const s=document.querySelector("[data-id]").dataset.id;if(new FormData(e.currentTarget).forEach((o,n)=>{p[n]=o.trim()}),p.rate=C,p.rate<1){w.show({title:"The rate must be selected",color:"red",position:"topCenter",message:""});return}if(!p.email||!p.review){w.show({title:"The email and comment must be selected",color:"red",position:"topCenter",message:""});return}await ye(s,p).then(()=>{w.show({title:"The rating has been successfully added",color:"green",position:"topCenter",message:""}),Te()}).catch(o=>{w.show({title:`${o.message}`,color:"red",position:"topCenter",message:""})})});function Pe(e){const t="btn_star-active",s="btn_star",a=e.length;let o;e.map(n=>{n.onclick=()=>{if(o=e.indexOf(n),n.className===s)for(o;o>=0;--o)e[o].className=t;else for(o;o<a;++o)e[o].className=s;C=e.filter(f=>{if(f.className===t)return f}).length,J.textContent=`${C}.0`}})}Pe(V);(()=>{const e={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};e.openModalBtn.addEventListener("click",t),e.closeModalBtn.addEventListener("click",s),e.modal.addEventListener("click",a);function t(){K.classList.remove("is-hidden"),document.addEventListener("keydown",o)}function s(){C=0,V.forEach(n=>{n.classList.remove("btn_star-active"),n.classList.add("btn_star")}),J.textContent="0.0",K.classList.add("is-hidden"),re.classList.remove("is-hidden"),document.removeEventListener("keydown",o)}function a(n){n.target===n.currentTarget&&s()}function o(n){n.key==="Escape"&&s()}})();const T=document.querySelector(".change_theme--btn"),P=document.querySelector(".icon_sun"),N=document.querySelector(".icon_moon"),ie=localStorage.getItem("theme"),A=document.querySelector("body"),R=document.querySelector(".mobile_menu--btn");document.querySelector(".mobile_menu");T.addEventListener("click",Ne);R.addEventListener("click",Ae);function Ne(){const e=document.body;e.classList.toggle("dark_mode"),T.classList.toggle("change_theme--btn-on"),e.classList.contains("dark_mode")?(localStorage.setItem("theme","dark"),P.style.display="none",N.style.display="block"):(localStorage.setItem("theme","light"),P.style.display="block",N.style.display="none")}ie==="dark"?(A.classList.add("dark_mode"),P.style.display="none",N.style.display="block",T.classList.add("change_theme--btn-on")):(A.classList.remove("dark_mode"),P.style.display="block",N.style.display="none",T.classList.remove("change_theme--btn-on"));function Ae(){const e=document.body;e.classList.toggle("dark_mode"),R.classList.toggle("show"),e.classList.contains("dark_mode")?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light")}ie==="dark"?(A.classList.add("dark_mode"),R.classList.add("show")):(A.classList.remove("dark_mode"),R.classList.remove("show"));function Re(){const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),s=document.querySelector(".js-close-menu"),a=document.body,o=()=>{const i=t.getAttribute("aria-expanded")==="true"||!1;t.setAttribute("aria-expanded",!i),e.classList.toggle("is-open"),a.classList.toggle("menu-open"),a.classList.contains("menu-open")?c():f()},n=()=>{e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1),a.classList.remove("menu-open"),f()},c=()=>{a.style.overflow="hidden"},f=()=>{a.style.overflow="visible"};t.addEventListener("click",o),s.addEventListener("click",o),window.matchMedia("(min-width: 768px)").addEventListener("change",i=>{i.matches&&n()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&e.classList.contains("is-open")&&n()})}Re();const ce="quote",$e=document.querySelector(".quote-text"),Y=document.querySelector(".quote-author"),De=document.querySelector(".favorites-quote-text"),Be=document.querySelector(".favorites-quote-author");async function Oe(){try{const{author:e,quote:t}=await _e(),s=new Date().toLocaleDateString();localStorage.setItem(ce,JSON.stringify({author:e,quote:t,date:s}))}catch(e){console.error("Failed to fetch the quote:",e)}}function le(){const e=localStorage.getItem(ce);return JSON.parse(e)}function X(){const e=le();Y?($e.textContent=e.quote,Y.textContent=e.author):(De.textContent=e.quote,Be.textContent=e.author)}async function Fe(){const e=new Date().toLocaleDateString(),t=le();if(t&&t.date===e){X();return}await Oe(),X()}document.addEventListener("DOMContentLoaded",Fe);export{se as D,me as F,Ke as P,ue as S,fe as a,Ue as b,He as c,Ve as d,he as e,We as f,Je as g,W as l};
//# sourceMappingURL=quote-51e42e0f.js.map
