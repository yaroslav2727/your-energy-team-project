{"version":3,"file":"subscribeFormFooter-93aab759.js","sources":["../../src/js/subscribeFormFooter.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { createSubscription } from './api/api';\nimport { loader } from './utils/loader';\n\nconst emailInput = document.querySelector('.subscribe-input');\nconst submitButton = document.querySelector('.submit-btn');\nsubmitButton.addEventListener('click', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const email = emailInput.value.trim();\nconst emailPattern = /^([a-zA-Z0-9_\\-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([a-zA-Z0-9\\-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$/;\n\n    if (!emailPattern.test(email)) {\n    iziToast.show({\n      position: 'center',\n      color: 'red',\n      message: `Please enter a valid email address.`,\n    });\n      emailInput.value = '';\n    }\n\n  \n  const data = {\n    email: email,\n  };\n\n  loader.create();\n\n  createSubscription(data)\n    .then(response => {\n      const respMessage = response.message;  \n      iziToast.show({\n        position: 'center',\n        color: 'green',\n        message: `${respMessage}`,\n      });\n      emailInput.value = '';\n    })\n    .catch(err => {\n      if (err.response.status === 409) {\n        iziToast.show({\n          position: 'center',\n          color: 'red',\n          message: `this email ${email} is subscribs`,\n        });\n    emailInput.value = '';\n      }\n    })\n    .finally(() => {\n      loader.destroy();\n    });\n}"],"names":["emailInput","submitButton","handleSubmit","event","email","iziToast","data","loader","createSubscription","response","respMessage","err"],"mappings":"8FAKA,MAAMA,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAe,SAAS,cAAc,aAAa,EACzDA,EAAa,iBAAiB,QAASC,CAAY,EAEnD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAQJ,EAAW,MAAM,KAAI,EAChB,wHAEC,KAAKI,CAAK,IAC5BC,EAAS,KAAK,CACZ,SAAU,SACV,MAAO,MACP,QAAS,qCACf,CAAK,EACCL,EAAW,MAAQ,IAIvB,MAAMM,EAAO,CACX,MAAOF,CACX,EAEEG,EAAO,OAAM,EAEbC,EAAmBF,CAAI,EACpB,KAAKG,GAAY,CAChB,MAAMC,EAAcD,EAAS,QAC7BJ,EAAS,KAAK,CACZ,SAAU,SACV,MAAO,QACP,QAAS,GAAGK,GACpB,CAAO,EACDV,EAAW,MAAQ,EACzB,CAAK,EACA,MAAMW,GAAO,CACRA,EAAI,SAAS,SAAW,MAC1BN,EAAS,KAAK,CACZ,SAAU,SACV,MAAO,MACP,QAAS,cAAcD,gBACjC,CAAS,EACLJ,EAAW,MAAQ,GAEvB,CAAK,EACA,QAAQ,IAAM,CACbO,EAAO,QAAO,CACpB,CAAK,CACL"}