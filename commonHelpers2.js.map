{"version":3,"file":"commonHelpers2.js","sources":["../src/js/api/config.js","../src/js/api/api.js","../src/js/markupCategories.js","../src/js/cutDataCardsInfo.js","../src/js/markupExercises.js","../src/js/homeCategories.js","../src/js/mobileModal.js"],"sourcesContent":["export const BASE_URL = 'https://your-energy.b.goit.study/api';\n\nexport const DEFAULT_FILTER_LIMIT = 12;\nexport const DEFAULT_EXERCISES_LIMIT = 10;\n","import axios from 'axios';\nimport {\n  BASE_URL,\n  DEFAULT_EXERCISES_LIMIT,\n  DEFAULT_FILTER_LIMIT,\n} from './config';\n\nconst api = axios.create({\n  baseURL: BASE_URL,\n  params: {},\n});\n\n//---------------Filters---------------------------------------------------------------\nexport const getFilteredList = async (filter, page = 1) => {\n  const response = await api.get('/filters', {\n    params: {\n      filter,\n      page,\n      limit: DEFAULT_FILTER_LIMIT,\n    },\n  });\n  return response.data;\n};\n\nexport const getMusclesList = async (page = 1) => {\n  const response = await api.get('/filters', {\n    params: {\n      filter: 'Muscles',\n      page,\n      limit: DEFAULT_FILTER_LIMIT,\n    },\n  });\n  return response.data;\n};\n\nexport const getBodyPartsList = async (page = 1) => {\n  const response = await api.get('/filters', {\n    params: {\n      filter: 'Body parts',\n      page,\n      limit: DEFAULT_FILTER_LIMIT,\n    },\n  });\n  return response.data;\n};\n\nexport const getEquipmentList = async (page = 1) => {\n  const response = await api.get('/filters', {\n    params: {\n      filter: 'Equipment',\n      page,\n      limit: DEFAULT_FILTER_LIMIT,\n    },\n  });\n  return response.data;\n};\n\n//------------------------------------------------------------------------------\n//\n//\n//\n//\n//------------------Quote------------------------------------------------------------\nexport const getQuoteOfTheDay = async () => {\n  const response = await api.get('/quote');\n  return response.data;\n};\n//------------------------------------------------------------------------------\n//\n//\n//\n//\n//------------------Exercises------------------------------------------------------------\nexport const getExercises = async (\n  { bodypart, muscles, equipment, search },\n  page = 1\n) => {\n  const checkedSearch =\n    search && !bodypart && !muscles && !equipment ? '' : search;\n\n  const response = await api.get('/exercises', {\n    params: {\n      bodypart: bodypart || '',\n      muscles: muscles || '',\n      equipment: equipment || '',\n      keyword: checkedSearch || '',\n      page,\n      limit: DEFAULT_EXERCISES_LIMIT,\n    },\n  });\n  return response.data;\n};\n\nexport const getExerciseById = async id => {\n  const response = await api.get(`/exercises/${id}`);\n  return response.data;\n};\n\nexport const setExerciseRating = async (id, data) => {\n  const response = await api.patch(`/exercises/${id}/rating`, data);\n  return response.data;\n};\n//------------------------------------------------------------------------------\n//\n//\n//\n//\n//------------------Subscription-----------------------------------------------------------\nexport const createSubscription = async data => {\n  const response = await api.post('/subscription', data);\n  return response.data;\n};\n","export function markupCategories(data) {\n  return data\n    .map(({ imgURL, filter, name }) => {\n      return `<li class=\"card-exercises\" data-body-exercise='${name}'>\n               <button type=\"button\" class=\"card-exercises-img\"\n                 style=\" background: linear-gradient(0deg, rgba(17, 17, 17, 0.50) 0%, rgba(17, 17, 17, 0.50) 100%),\n                 url('${imgURL}') ;\n                 background-size: cover;\n                 background-position:center;\n                 background-repeat: no-repeat;\n                \"\n                </button>\n  <div class=\"card-description\">\n   <p class=\"name-category\">${name}</p>\n      <p class=\"name-exercises\">${filter}</p>\n  </div>\n    </li>`;\n    })\n    .join('');\n}\n","function cutExerciseName(data) {\n    // console.log(\"cutDataCardsInfo >>>\", data)\n    if (data.length > 21) {\n        // console.log(\"data.slice >>>\", data.slice(0, 20))\n        return `${data.slice(0, 21)}...`\n    }\n    return data;\n}\n\nfunction roundingRating(data) {\n    // console.log(\"roundingRating >>>\", data)\n    return `${Math.round(data)}.0`\n\n}\n\nfunction cutDataCardsInfo(data) {\n    console.log(\"cutDataCardsInfo >>>\", data)\n    if (data.length > 3) {\n        return `${data.slice(0, 3)}...`\n    }\n    return `${data.slice(0, 3)}...`\n}\n\n\nexport { cutExerciseName, roundingRating, cutDataCardsInfo }","import { cutExerciseName, roundingRating, cutDataCardsInfo } from \"./cutDataCardsInfo\"\n\n\n\nexport function markupExercises(data) {\n\n\treturn data\n\t\t.map(({ rating, name, burnedCalories, bodyPart, target, _id }) => {\n\t\t\treturn `<li class=\"exercises-item\" data-exercise-id=\"${_id}\">\n\t\t<div class=\"exercises-item-header\">\n\t\t\t<div class=\"exercises-rating-wrapper\">\n\t\t\t\t<p class=\"exercises-text\">WORKOUT</p>\n\t\t\t\t<p class=\"exercises-rating\">${roundingRating(rating)}</p>\n\t\t\t\t<span class=\"exercises-name-span\">\n\t\t\t\t<svg class=\"exercises-icon-star-rating\" width=\"16\" height=\"16\">\n                  <use href=\"../img/icons.svg#icon-star-rating\"></use>\n                </svg>\n\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div class=\"exercises-btn-wrapper\">\n\t\t\t\t<button type=\"button\" class=\"exercises-btn\">Start</button>\n\t\t\t\t<span class=\"exercises-name-span\">\n\t\t\t\t\t<svg class=\"exercises-icon-arrow\" width=\"16\" height=\"16\">\n\t\t\t\t\t\t<use href=\"../img/icons.svg#icon-arrow\"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"exercises-title\">\n\t\t\t<span class=\"exercises-name-span\">\n\t\t\t\t<svg class=\"exercises-icon-runner\" width=\"24\" height=\"24\">\n                  <use href=\"../img/icons.svg#icon-runner\"></use>\n                </svg>\n\t\t\t</span>\n\t\t\t<h3 class=\"exercises-name\">${cutExerciseName(name)}</h3>\n\t\t</div>\n\n\t\t<div class=\"exercises-footer\">\n\t\t\t<ul class=\"exercises-data-list\">\n\t\t\t\t<li class=\"exercises-data-item\">\n\t\t\t\t\t<span class=\"exercises-data-info\">Burned calories:</span>\n\t\t\t\t\t${burnedCalories}/ ...\n\t\t\t\t</li>\n\t\t\t\t<li class=\"exercises-data-item\">\n\t\t\t\t\t<span class=\"exercises-data-info\">Body part:</span>\n\t\t\t\t\t${cutDataCardsInfo(bodyPart)}\n\t\t\t\t</li>\n\t\t\t\t<li class=\"exercises-data-item\">\n\t\t\t\t\t<span class=\"exercises-data-info\">Target:</span>\n\t\t\t\t\t${cutDataCardsInfo(target)}\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</li>`;\n\t\t})\n\t\t.join('');\n}\n\n","import { getMusclesList, getFilteredList, getExercises } from './api/api';\nimport { markupCategories } from './markupCategories';\nimport { markupExercises } from './markupExercises';\n\nlet currentPage = 1;\nlet category = 'muscles';\n\nconst items = document.querySelector('.cards');\nconst filter = document.querySelector('.filter-list');\n\nfilter.addEventListener('click', handlerClickCategory);\nitems.addEventListener('click', handlerClickExercises);\n\n// стартовий список\ngetMusclesList()\n  .then(response => {\n    const data = response.results;\n    items.innerHTML = markupCategories(data);\n  })\n  .catch(err => {\n    console.error(err);\n  });\n\n// фільтр по категоріям\nfunction handlerClickCategory(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const categoryName = e.target.dataset.name;\n\n  const filterBtn = document.querySelectorAll('.filter-btn');\n  filterBtn.forEach(btn => btn.classList.remove('active'));\n  e.target.classList.add('active');\n\n  getFilteredList(categoryName, currentPage)\n    .then(response => {\n      const data = response.results;\n      const { filter } = data[0];\n      category = filter.toLowerCase();\n\n      items.innerHTML = markupCategories(data);\n    })\n    .catch(err => {\n      console.error(err);\n    });\n}\n\n// вивід списка вибраних вправ\nfunction handlerClickExercises(e) {\n\n  const exercise = e.target.closest('.card-exercises').dataset.bodyExercise;\nconsole.log('exercise', exercise)\nconsole.log('category', category)\n  const data = {\n    [category]: exercise,\n    page: 1,\n  };\n\n  getExercises(data)\n    .then(response => {\n      const data = response.results;\n      items.innerHTML = markupExercises(data);\n    })\n    .catch(err => {\n      console.error(err);\n    });\n}\n\n","function setupMobileMenu() {\n  const mobileMenu = document.querySelector('.js-menu-container');\n  const openMenuBtn = document.querySelector('.js-open-menu');\n  const closeMenuBtn = document.querySelector('.js-close-menu');\n  const overflow = document.body;\n\n  const toggleMenu = () => {\n    const isMenuOpen =\n      openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n    openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n\n    mobileMenu.classList.toggle('is-open');\n    if (mobileMenu.classList.contains('is-open')) {\n      overflow.style.overflow = 'hidden';\n    } else {\n      overflow.style.overflow = 'visible';\n    }\n  };\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n  closeMenuBtn.addEventListener('click', toggleMenu);\n\n  window.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    mobileMenu.classList.remove('is-open');\n    openMenuBtn.setAttribute('aria-expanded', false);\n  });\n}\n\nsetupMobileMenu();\n"],"names":["BASE_URL","DEFAULT_FILTER_LIMIT","DEFAULT_EXERCISES_LIMIT","api","axios","getFilteredList","filter","page","getMusclesList","getExercises","bodypart","muscles","equipment","search","checkedSearch","markupCategories","data","imgURL","name","cutExerciseName","roundingRating","cutDataCardsInfo","markupExercises","rating","burnedCalories","bodyPart","target","_id","currentPage","category","items","handlerClickCategory","handlerClickExercises","response","err","categoryName","btn","exercise","setupMobileMenu","mobileMenu","openMenuBtn","closeMenuBtn","overflow","toggleMenu","isMenuOpen","e"],"mappings":"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"}