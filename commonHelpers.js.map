{"version":3,"file":"commonHelpers.js","sources":["../src/js/favorites/createCardMarkup.js","../src/js/favorites/favorites.js"],"sourcesContent":["export function createCardMarkup({\n  _id,\n  burnedCalories,\n  time,\n  bodyPart,\n  target,\n  name,\n}) {\n  return `    <li class=\"favorites__item\">\n                <div class=\"favorites__card\" href=\"\">\n                  <div class=\"sport-card\">\n                    <div class=\"sport-card__header\">\n                      <div class=\"sport-card__tag-wrapper\">\n                        <p class=\"sport-card__tag\">WORKOUT</p>\n                        <!-- <svg class=\"\" width=\"\" height=\"\">\n                      <use href=\"\"></use>\n                    </svg> -->\n  \n                        <!-- Temporary icon -->\n                        <button\n                          class=\"button sport-card__remove-btn js-favorites-remove\"\n                          type=\"button\"\n                          aria-label=\"Remove card button\"\n                          data-card-id=\"${_id}\"\n                        >\n                        \n\n                             <svg class=\"icon\" width=\"16\" height=\"16\" >\n                              <use href=\"./img/icons.svg#icon-trash\"></use>\n                            </svg>\n                        </button>\n                      </div>\n  \n                      <button class=\"button sport-card__start-btn\" type=\"button\" data-card-id=\"${_id}\">\n                        Start\n                     \n                          <svg class=\"icon\" width=\"16\" height=\"16\" >\n                              <use href=\"./img/icons.svg#icon-arrow\"></use>\n                            </svg>\n                        \n                      </button>\n                    </div>\n  \n                    <div class=\"sport-card__meta\">                     \n\n                      <svg class=\"icon\" width=\"24\" height=\"24\">\n                        <use href=\"./img/icons.svg#icon-runner\"></use>\n                      </svg>\n  \n                      <p class=\"sport-card__name\">${name}</p>\n                    </div>\n  \n                    <div class=\"sport-card__footer\">\n                      <ul class=\"sport-card__param-list\">\n                        <li class=\"sport-card__param-item\">\n                          Burned calories:<span class=\"sport-card__param__value\"\n                            >${burnedCalories} / ${time} min</span\n                          >\n                        </li>\n                        <li class=\"sport-card__param-item\">\n                          Body part:<span class=\"sport-card__param__value\"\n                            >${bodyPart}</span\n                          >\n                        </li>\n                        <li class=\"sport-card__param-item\">\n                          Target:<span class=\"sport-card__param__value\">${target}</span>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </li>`;\n}\n","import { createStorage } from '../storageApi';\nimport { createCardMarkup } from './createCardMarkup';\nimport { FavoritesStorage } from './FavoritesStorage';\nimport { mockFavoritesData } from './mockData';\nimport { Storage } from './Storage';\nimport { FAVORITES_STORAGE_KEY } from './favoritesConfig';\n\nconst FAVORITES_PER_PAGE = 5;\n\nconst listRef = document.querySelector('.js-favorites-list');\nconst noCardsMessageRef = document.querySelector('.js-favorites-no-cards');\n\n//-------------------------------\nconst favoritesStorage = new FavoritesStorage(FAVORITES_STORAGE_KEY);\n\nconst pageState = createPageState(1, updateData);\n\n//TEMP----------------------\n// mockFavoritesData.forEach(card => {\n//   favoritesStorage.addCard(card);\n// });\n\nconst tempAddBtnRef = document.querySelector('.js-temp-add-to-favorites');\nconst tempPageIncrease = document.querySelector('.js-temp-page-up');\nconst tempPageDecrease = document.querySelector('.js-temp-page-down');\n\nlet tempCount = 1111;\ntempAddBtnRef.addEventListener('click', e => {\n  // const cardId = e.target.dataset.cardId;\n  const card = {\n    _id: tempCount++,\n    burnedCalories: '312',\n    time: '3',\n    name: 'Test card19-new',\n    bodyPart: 'Waist',\n    target: 'Abs',\n  };\n\n  favoritesStorage.addCard(card);\n  updateData();\n});\n\ntempPageIncrease.addEventListener('click', pageState.increase);\ntempPageDecrease.addEventListener('click', pageState.decrease);\n//TEMP----------------------\n\nlistRef.addEventListener('click', e => {\n  const delBtn = e.target.closest('.js-favorites-remove');\n  if (!delBtn) return;\n\n  const cardId = delBtn.dataset.cardId;\n  favoritesStorage.removeCard(cardId);\n  updateData();\n});\n\nupdateData();\n\n///////////////////////////////////////////////////////////////////////////\n\nfunction updateData() {\n  const response = favoritesStorage.getCards(\n    pageState.getPage(),\n    FAVORITES_PER_PAGE\n  );\n  console.log(response);\n  render(response.data);\n}\n\nfunction render(list) {\n  if (list.length === 0) {\n    noCardsMessageRef.classList.add('is-visible');\n    listRef.innerHTML = '';\n    return;\n  } else {\n    noCardsMessageRef.classList.remove('is-visible');\n  }\n\n  const markup = list.map(createCardMarkup).join('');\n  listRef.innerHTML = markup;\n}\n\nfunction createPageState(initialPage, handler) {\n  const storage = new Storage('favorites_page');\n\n  let page = storage.getFromStorage() || initialPage;\n\n  return {\n    increase() {\n      page++;\n      storage.setToStorage(page);\n      handler();\n    },\n\n    decrease() {\n      page--;\n      storage.setToStorage(page);\n      handler();\n    },\n\n    getPage() {\n      return page;\n    },\n  };\n}\n"],"names":["createCardMarkup","_id","burnedCalories","time","bodyPart","target","name","FAVORITES_PER_PAGE","listRef","noCardsMessageRef","favoritesStorage","FavoritesStorage","FAVORITES_STORAGE_KEY","pageState","createPageState","updateData","tempAddBtnRef","tempPageIncrease","tempPageDecrease","tempCount","card","delBtn","cardId","response","render","list","markup","initialPage","handler","storage","Storage","page"],"mappings":"iGAAO,SAASA,EAAiB,CAC/B,IAAAC,EACA,eAAAC,EACA,KAAAC,EACA,SAAAC,EACA,OAAAC,EACA,KAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAeiCL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iGAUuDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAgB7CK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAOrBJ,OAAoBC;AAAA;AAAA;AAAA;AAAA;AAAA,+BAKpBC;AAAA;AAAA;AAAA;AAAA,0EAI2CC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAO1E,CCjEA,MAAME,EAAqB,EAErBC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAoB,SAAS,cAAc,wBAAwB,EAGnEC,EAAmB,IAAIC,EAAiBC,CAAqB,EAE7DC,EAAYC,EAAgB,EAAGC,CAAU,EAOzCC,EAAgB,SAAS,cAAc,2BAA2B,EAClEC,EAAmB,SAAS,cAAc,kBAAkB,EAC5DC,EAAmB,SAAS,cAAc,oBAAoB,EAEpE,IAAIC,EAAY,KAChBH,EAAc,iBAAiB,QAAS,GAAK,CAE3C,MAAMI,EAAO,CACX,IAAKD,IACL,eAAgB,MAChB,KAAM,IACN,KAAM,kBACN,SAAU,QACV,OAAQ,KACZ,EAEET,EAAiB,QAAQU,CAAI,EAC7BL,GACF,CAAC,EAEDE,EAAiB,iBAAiB,QAASJ,EAAU,QAAQ,EAC7DK,EAAiB,iBAAiB,QAASL,EAAU,QAAQ,EAG7DL,EAAQ,iBAAiB,QAAS,GAAK,CACrC,MAAMa,EAAS,EAAE,OAAO,QAAQ,sBAAsB,EACtD,GAAI,CAACA,EAAQ,OAEb,MAAMC,EAASD,EAAO,QAAQ,OAC9BX,EAAiB,WAAWY,CAAM,EAClCP,GACF,CAAC,EAEDA,IAIA,SAASA,GAAa,CACpB,MAAMQ,EAAWb,EAAiB,SAChCG,EAAU,QAAS,EACnBN,CACJ,EACE,QAAQ,IAAIgB,CAAQ,EACpBC,EAAOD,EAAS,IAAI,CACtB,CAEA,SAASC,EAAOC,EAAM,CACpB,GAAIA,EAAK,SAAW,EAAG,CACrBhB,EAAkB,UAAU,IAAI,YAAY,EAC5CD,EAAQ,UAAY,GACpB,MACJ,MACIC,EAAkB,UAAU,OAAO,YAAY,EAGjD,MAAMiB,EAASD,EAAK,IAAIzB,CAAgB,EAAE,KAAK,EAAE,EACjDQ,EAAQ,UAAYkB,CACtB,CAEA,SAASZ,EAAgBa,EAAaC,EAAS,CAC7C,MAAMC,EAAU,IAAIC,EAAQ,gBAAgB,EAE5C,IAAIC,EAAOF,EAAQ,eAAc,GAAMF,EAEvC,MAAO,CACL,UAAW,CACTI,IACAF,EAAQ,aAAaE,CAAI,EACzBH,GACD,EAED,UAAW,CACTG,IACAF,EAAQ,aAAaE,CAAI,EACzBH,GACD,EAED,SAAU,CACR,OAAOG,CACR,CACL,CACA"}